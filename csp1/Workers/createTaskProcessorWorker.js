define(["./defaultValue-94c3e563"],(function(e){"use strict";function r(r){let t;const n=r.name,s=r.message;t=e.defined(n)&&e.defined(s)?`${n}: ${s}`:r.toString();const a=r.stack;return e.defined(a)&&(t+=`\n${a}`),t}function t(e,r,t){let n;try{return n=e(r,t),n}catch(s){return Promise.reject(s)}}function n(n){let s;return function(a){const i=a.data,o=[],c={id:i.id,result:void 0,error:void 0};return Promise.resolve(t(n,i.parameters,o)).then((function(e){c.result=e})).catch((function(e){e instanceof Error?c.error={name:e.name,message:e.message,stack:e.stack}:c.error=e})).finally((function(){e.defined(s)||(s=e.defaultValue(self.webkitPostMessage,self.postMessage)),i.canTransferArrayBuffer||(o.length=0);try{s(c,o)}catch(t){c.result=void 0,c.error=`postMessage failed with error: ${r(t)}\n  with responseMessage: ${JSON.stringify(c)}`,s(c)}}))}}return n}));